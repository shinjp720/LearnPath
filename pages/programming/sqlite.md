<div data-title="SQLite"></div>
<a id="top" data-name="TOP">

# SQLite

- SQLiteは単なるライブラリであり、データベースの操作はアプリケーションプロセス内で直接行われるため、MySQLやPostgreSQLのように専用のサーバーを立ち上げる必要がない。
- データベース全体が単一のファイル(例: example.db)に格納されるため、ファイルをコピーするだけでバックアップができ、ファイルを他のマシンに移動すればそのまま使える。
- インストールが簡単で、初期設定も不要であるため、開発や小規模なアプリケーションに適している。
- SQLiteは単一プロセスまたは少数のクライアントによるアクセスを想定しているため、大規模な並行処理や分散環境には不向き。

```bash
sudo apt update
sudo apt install sqlite3
```
`sqlite3`でインタラクティブシェルを実行。

SQLiteの開発用ツール(C言語用ヘッダなど)も必要なら、次も入れる(通常は不要)。

```bash
sudo apt install libsqlite3-dev
```

---

<a id="meta" data-name="メタコマンド">

## メタコマンド

SQLiteのインタラクティブシェルで使用する.〇〇形式のコマンドを**メタコマンド**と呼ぶ。

| コマンド                | 説明                                                                                                                     |
| ----------------------- | ------------------------------------------------------------------------------------------------------------------------ |
| `.open [ファイル名]`    | データベースファイルを開く(既存のファイルが無い場合は新規作成)。                                                         |
| `.quit`または`.exit`    | SQSiteシェルを終了する。                                                                                                 |
| `.tables`               | データベース内の全てのテーブル名一覧を表示する。                                                                         |
| `.schema [テーブル名]`  | 特定のテーブルのスキーマ(CREATE TABLE文)を表示する。<br>テーブル名を省略すると、全てのスキーマを表示する。               |
| `.databases`            | 現在接続しているデータベースを表示する。                                                                                 |
| `.indexes [テーブル名]` | 特定のテーブルに関連付けられているインデックスを表示する。                                                               |
| `.mode [フォーマット]`  | クエリ結果の出力形式を指定する。<br>フォーマットは以下の通り。<br>`column`: 列形式<br>`csv`: CSV形式<br>`json`: JSON形式 |
| `.headers on/off`       | クエリ結果にカラム名を表示(on)または非表示(off)にする。                                                                  |
| `.read [ファイル名]`    | ファイルに保存されたSQLスクリプトを実行する。                                                                            |
| `.output [ファイル名]`  | クエリ結果の出力先を指定したファイルに変更する(デフォルトで標準出力)。<br>元に戻すには`.output stdout`                   |
| `.dump [テーブル名]`    | 指定したテーブルの内容をダンプ(エクスポート)する。<br>テーブル名を省略するとデータベース全体をダンプする。               |
| `.timer on/off`         | 各コマンドの実行時間を表示(on)または非表示(off)にする。                                                                  |
| `.help`                 | 全てのメタコマンドの一覧と簡単な説明を表示する。                                                                         |

